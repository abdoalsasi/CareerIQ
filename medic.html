<!-- نافذة رسالة نجاح الحجز -->
    <div class="booking-success-modal" id="bookingSuccessModal" style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:10001;opacity:0;visibility:hidden;transition:all 0.3s ease;">
        <div style="background:white;width:95%;max-width:400px;border-radius:20px;box-shadow:0 25px 50px rgba(0,0,0,0.25);padding:2rem;text-align:center;">
            <h3 style="color:#2c5e92;margin-bottom:1.5rem;">تم تأكيد الحجز بنجاح!</h3>
            <p id="bookingSuccessText" style="font-size:1.1rem;color:#333;margin-bottom:2rem;"></p>
            <button id="closeBookingSuccessModal" style="background:#2c5e92;color:white;padding:0.8rem 1.5rem;border-radius:10px;font-weight:600;cursor:pointer;font-size:1rem;border:none;">حسناً</button>
        </div>
    </div>
    <!-- نافذة رسالة خطأ الحجز -->
    <div class="booking-error-modal" id="bookingErrorModal" style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:10001;opacity:0;visibility:hidden;transition:all 0.3s ease;">
        <div style="background:white;width:95%;max-width:400px;border-radius:20px;box-shadow:0 25px 50px rgba(0,0,0,0.25);padding:2rem;text-align:center;">
            <h3 style="color:#ff6b6b;margin-bottom:1.5rem;">خطأ في الحجز</h3>
            <p id="bookingErrorText" style="font-size:1.1rem;color:#333;margin-bottom:2rem;">الرجاء تعبئة جميع الحقول المطلوبة</p>
            <button id="closeBookingErrorModal" style="background:#ff6b6b;color:white;padding:0.8rem 1.5rem;border-radius:10px;font-weight:600;cursor:pointer;font-size:1rem;border:none;">موافق</button>
        </div>
    </div>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حجز الأطباء - CareerIQ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="medic.css">
</head>
<body>
    <!-- شريط التنقل المحدث والمصحح -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">
                    <!-- الصورة المصححة -->
                    <img src="Img/logo.jpg" alt="CareerIQ Logo">
                    <span>CareerIQ</span>
                </a>
                
                <nav>
                    <ul>
                        <li><a href="index.html">الرئيسية</a></li>
                        <li class="dropdown">
                            <a href="#">الفئات <i class="fas fa-chevron-down"></i></a>
                            <div class="dropdown-content">
                                <a href="medic.html"><i class="fas fa-user-md"></i> الأطباء</a>
                                <a href="engineer.html"><i class="fas fa-laptop-code"></i> المهندسين</a>
                                <a href="#"><i class="fas fa-chalkboard-teacher"></i> المعلمين</a>
                                <a href="#"><i class="fas fa-briefcase"></i> الاستشاريين</a>
                                <a href="#"><i class="fas fa-dumbbell"></i> المدربين</a>
                                <a href="#"><i class="fas fa-paint-brush"></i> المصممين</a>
                                <a href="#"><i class="fas fa-balance-scale"></i> المحامين</a>
                            </div>
                        </li>
                        <li><a href="howtobooking.html" >كيفية الحجز</a></li>
                    </ul>
                </nav>
                
                <div class="auth-buttons">
                    
                   
                </div>
            </div>
        </div>
    </header>

    <!-- قسم البطل -->
    <section class="hero">
        <div class="hero-content">
            <h1>حجز موعد مع أفضل الأطباء</h1>
            <p>اختر من بين نخبة الأطباء المختصين واحجز موعدك بسهولة</p>
        </div>
    </section>
    
    <!-- قسم البحث والتصفية -->
    <section class="search-section">
        <div class="container">
            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="ابحث عن طبيب أو تخصص...">
                </div>
                <div class="filter-box" style="display: flex; flex-direction: column; align-items: flex-start; gap: 0.7rem;">
                    <select id="specialtyFilter">
                        <option value="">جميع التخصصات</option>
                        <option value="أمراض القلب">أمراض القلب</option>
                        <option value="جراحة العظام">جراحة العظام</option>
                        <option value="طب الأطفال">طب الأطفال</option>
                        <option value="طب الأعصاب">طب الأعصاب</option>
                        <option value="طب العيون">طب العيون</option>
                        <option value="الجلدية">الجلدية</option>
                    </select>
                   
                </div>
            </div>
        </div>
    </section>

    
    <!-- كروت الأطباء -->
    <section class="doctors-section">
        <div class="container">
            
            <h2 class="section-title">قائمة الأطباء المتاحين</h2>
            
            <button id="addDoctorBtn" style="margin-bottom: 1.5rem; display: inline-flex; align-items: center; gap: 10px; font-size: 1.1rem; background: #2c5e92; color: #fff; border: none; border-radius: 8px; padding: 0.8rem 1.8rem; cursor: pointer; position: relative; z-index: 10;">
                <i class="fas fa-plus"></i> إضافة طبيب جديد
            </button>
            <div class="doctors-grid" id="doctorsContainer">
                <!-- سيتم تعبئة الأطباء هنا بالجافاسكريبت -->
            </div>
        </div>
    </section>
  
    <!-- نموذج إضافة طبيب جديد -->
    <div class="add-doctor-modal" id="addDoctorModal">
        <div class="add-doctor-form">
            <div class="modal-header">
                <h3>إضافة طبيب جديد</h3>
                <button class="close-modal" id="closeAddDoctorModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="image-preview" id="imagePreview">
                    <i class="fas fa-user-md"></i>
                </div>
                <label class="upload-btn">
                    <i class="fas fa-upload"></i> تحميل صورة الطبيب
                    <input type="file" id="doctorImage" accept="image/*">
                </label>
                <div class="form-group">
                    <label for="doctorName">اسم الطبيب</label>
                    <input type="text" id="doctorName" placeholder="اسم الطبيب الكامل">
                </div>
                <div class="form-group">
                    <label for="doctorSpecialty">التخصص</label>
                    <select id="doctorSpecialty">
                        <option value="">اختر التخصص</option>
                        <option value="أمراض القلب">أمراض القلب</option>
                        <option value="جراحة العظام">جراحة العظام</option>
                        <option value="طب الأطفال">طب الأطفال</option>
                        <option value="طب الأعصاب">طب الأعصاب</option>
                        <option value="طب العيون">طب العيون</option>
                        <option value="الجلدية">الجلدية</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="doctorExperience">سنوات الخبرة</label>
                    <input type="text" id="doctorExperience" placeholder="عدد سنوات الخبرة">
                </div>
                <div class="form-group">
                    <label for="doctorLocation">مكان العمل</label>
                    <input type="text" id="doctorLocation" placeholder="مكان العمل">
                </div>
                <div class="form-group">
                    <label for="doctorDescription">الوصف</label>
                    <textarea id="doctorDescription" placeholder="وصف مختصر عن الطبيب"></textarea>
                </div>
                <div class="form-group">
                    <label for="doctorIdImage">صورة الهوية الشخصية <span style='color:red'>(إجباري)</span></label>
                    <input type="file" id="doctorIdImage" accept="image/*" required>
                </div>
            </div>
            <div class="modal-footer">
                <button class="back-btn" id="cancelAddDoctor">
                    <i class="fas fa-times"></i> إلغاء
                </button>
                <button class="confirm-btn" id="addDoctorConfirm">
                    <i class="fas fa-plus"></i> إضافة الطبيب
                </button>
            </div>
        </div>
    </div>
    <div class="booking-modal" id="bookingModal">
        <div class="booking-form">
            <div class="modal-header">
                <h3>حجز موعد</h3>
                <button class="close-modal" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="doctor-summary">
                    <div class="summary-image">
                        <img id="doctorModalImage" src="" alt="صورة الطبيب">
                    </div>
                    <div class="summary-info">
                        <h4 id="doctorModalName">الدكتور محمد أحمد</h4>
                        <p id="doctorModalSpecialty">أمراض القلب</p>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="patientName">الاسم الكامل</label>
                    <input type="text" id="patientName" placeholder="الاسم الكامل للمريض">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="patientEmail">البريد الإلكتروني</label>
                        <input type="email" id="patientEmail" placeholder="alimfth38@gmail.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="patientPhone">رقم الجوال</label>
                        <input type="tel" id="patientPhone" placeholder="0917737286">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="appointmentDate">تاريخ الموعد</label>
                        <input type="date" id="appointmentDate">
                    </div>
                    
                    <div class="form-group">
                        <label for="appointmentTime">وقت الموعد</label>
                        <select id="appointmentTime">
                            <option value="">اختر الوقت</option>
                            <option value="09:00">09:00 صباحاً</option>
                            <option value="10:00">10:00 صباحاً</option>
                            <option value="11:00">11:00 صباحاً</option>
                            <option value="12:00">12:00 ظهراً</option>
                            <option value="13:00">01:00 ظهراً</option>
                            <option value="14:00">02:00 ظهراً</option>
                            <option value="15:00">03:00 عصراً</option>
                            <option value="16:00">04:00 عصراً</option>
                            <option value="17:00">05:00 مساءً</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="appointmentReason">سبب الزيارة</label>
                    <textarea id="appointmentReason" placeholder="الرجاء وصف سبب الزيارة"></textarea>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="back-btn" id="backToDoctors">
                    <i class="fas fa-arrow-left"></i> العودة للأطباء
                </button>
                <button class="confirm-btn" id="confirmBooking">
                    <i class="fas fa-calendar-check"></i> تأكيد الحجز
                </button>
            </div>
        </div>
    </div>

    
    <!-- رسالة تسجيل الدخول المطلوبة -->
    <div class="login-required-modal" id="loginRequiredModal">
        <div class="login-message-box">
            <div class="message-header">
                <h3>تسجيل الدخول مطلوب</h3>
            </div>
            <div class="message-body">
                <p>يجب عليك تسجيل الدخول لحجز موعد مع الطبيب</p>
                <p>سجل دخولك الآن للاستفادة من خدماتنا كاملة</p>
            </div>
            <div class="message-footer">
                <button class="login-btn" id="goToLoginBtn">
                    <i class="fas fa-sign-in-alt"></i> الانتقال لتسجيل الدخول
                </button>
                <button class="cancel-btn" id="cancelLoginBtn">
                    <i class="fas fa-times"></i> إلغاء
                </button>
            </div>
        </div>
    </div>

    <!-- نافذة رسالة تأكيد الإضافة -->
    <!-- نافذة رسالة خطأ إضافة الطبيب (منبثقة منسقة) -->
    <div class="add-error-modal" id="addErrorModal" style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:10001;opacity:0;visibility:hidden;transition:all 0.3s ease;">
        <div style="background:white;width:95%;max-width:400px;border-radius:20px;box-shadow:0 25px 50px rgba(0,0,0,0.25);padding:2rem;text-align:center;">
            <h3 style="color:#ff6b6b;margin-bottom:1.5rem;">تنبيه!</h3>
            <p id="addErrorText" style="font-size:1.1rem;color:#333;margin-bottom:2rem;">يرجى تعبئة جميع الحقول المطلوبة ورفع صورة الهوية الشخصية قبل إضافة الطبيب.</p>
            <button id="closeAddErrorModal" style="background:#ff6b6b;color:white;padding:0.8rem 1.5rem;border-radius:10px;font-weight:600;cursor:pointer;font-size:1rem;border:none;">موافق</button>
        </div>
    </div>
    <div class="add-success-modal" id="addSuccessModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.7); z-index:10001; align-items:center; justify-content:center;">
        <div style="background:white; max-width:400px; margin:auto; border-radius:20px; box-shadow:0 25px 50px rgba(0,0,0,0.25); padding:2rem; text-align:center;">
            <h3 style="color:#2c5e92; margin-bottom:1rem;">تم استلام بياناتك بنجاح</h3>
            <p style="font-size:1.2rem; color:#333; margin-bottom:2rem;">سيتم إضافة بياناتك إلى الموقع خلال 24 ساعة بعد المراجعة.</p>
            <button id="closeAddSuccessModal" style="background:#2c5e92; color:#fff; border:none; border-radius:8px; padding:0.7rem 1.5rem; font-weight:600; cursor:pointer;">إغلاق</button>
        </div>
    </div>

    <!-- تذييل الصفحة المحسن -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="contact-info">
                    <h3>أتصل بنا</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> طرابلس، ليبيا</li>
                        <li><i class="fas fa-phone"></i> 218917737286+</li>
                        <li><i class="fas fa-envelope"></i> info@careeriq.ly</li>
                        <li><i class="fas fa-clock"></i> الأحد - الخميس: 8 صباحاً - 5 مساءً</li>
                    </ul>
                    
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="copyright">
                    <p>جميع الحقوق محفوظة &copy; 2025 منصة CareerIQ</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // بيانات الأطباء (صور وجوه فقط)
        let doctors = [
            {
                id: 1,
                name: "د. محمد أحمد",
                specialty: "أمراض القلب",
                image:"Img/doctor1.jpg",
                // image: "https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                experience: "15 سنة خبرة",
                location: "مستشفي طرابلس المركز, طرابلس",
                description: "استشاري أمراض القلب والقسطرة العلاجية، حاصل على الزمالة الأمريكية في أمراض القلب"
            },
            {
                id: 2,
                name: "د. سارة الخالد",
                specialty: "طب الأطفال",
                image:"Img/doctor2.jpg",
               
                experience: "12 سنة خبرة",
                location: "مستشفي الجلاء, طرابلس",
                description: "استشارية طب الأطفال حديثي الولادة، حاصلة على البورد السعودي والبورد الكندي في طب الأطفال"
            },
            {
                id: 3,
                name: "د. خالد سليمان",
                specialty: "جراحة العظام",
                image:"Img/doctor3.jpg",
                experience: "18 سنة خبرة",
                location: "مستشفي طرابلس المركز, طرابلس",
                description: "استشاري جراحة العظام والمفاصل، متخصص في جراحات استبدال المفاصل وجراحات المناظير"
            },
            {
                id: 4,
                name: "د. احمد حسن",
                specialty: "طب الأعصاب",
                image:"Img/doctor4.jpg",
                experience: "14 سنة خبرة",
                location:" مستشفي الخليل ,طرابلس -شارع الزواية",
                description: "استشارية طب الأعصاب والصرع، متخصصة في علاج الصداع النصفي والاضطرابات العصبية"
            },
            {
                id: 5,
                name: "د. عبدالله المرابط",
                specialty: "طب العيون",
                image:"Img/doctor5.jpg",
                experience: "16 سنة خبرة",
                location: "مستشفي طرابلس للعيون, طرابلس",
                description: "استشاري طب وجراحة العيون، متخصص في جراحات تصحيح النظر وإزالة المياه البيضاء"
            },
            {
                id: 6,
                name: "د. نورة الفهد",
                specialty: "الجلدية",
                image:"Img/doctor6.jpg",
                experience: "11 سنة خبرة",
                location: "مستشفي طرابلس , طرابلس",
                description: "استشارية الأمراض الجلدية والعلاج باليزر ومتخصص في علاج الاكزيما"
            }
        ];

        // DOM جاهز
        document.addEventListener('DOMContentLoaded', function() {
            const doctorsContainer = document.getElementById('doctorsContainer');
            const searchInput = document.getElementById('searchInput');
            const specialtyFilter = document.getElementById('specialtyFilter');
            const bookingModal = document.getElementById('bookingModal');
            const closeModal = document.getElementById('closeModal');
            const backToDoctors = document.getElementById('backToDoctors');
            const confirmBooking = document.getElementById('confirmBooking');
            const doctorModalImage = document.getElementById('doctorModalImage');
            const doctorModalName = document.getElementById('doctorModalName');
            const doctorModalSpecialty = document.getElementById('doctorModalSpecialty');
            const loginRequiredModal = document.getElementById('loginRequiredModal');
            const goToLoginBtn = document.getElementById('goToLoginBtn');
            const cancelLoginBtn = document.getElementById('cancelLoginBtn');
            let currentDoctor = null;
            let newDoctorImage = null;
            // إظهار رسالة تسجيل الدخول المطلوبة
            function showLoginRequired() {
                loginRequiredModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            // إخفاء رسالة تسجيل الدخول المطلوبة
            function hideLoginRequired() {
                loginRequiredModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            // فتح نموذج إضافة طبيب
            function openAddDoctorModal() {
                document.getElementById('doctorName').value = '';
                document.getElementById('doctorSpecialty').value = '';
                document.getElementById('doctorExperience').value = '';
                document.getElementById('doctorLocation').value = '';
                document.getElementById('doctorDescription').value = '';
                imagePreview.innerHTML = '<i class="fas fa-user-md"></i>';
                newDoctorImage = null;
                document.getElementById('addDoctorModal').classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            // إغلاق نموذج إضافة طبيب
            function closeAddDoctorModal() {
                document.getElementById('addDoctorModal').classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            // معاينة صورة الطبيب
            const doctorImage = document.getElementById('doctorImage');
            const imagePreview = document.getElementById('imagePreview');
            doctorImage.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        newDoctorImage = e.target.result;
                        imagePreview.innerHTML = `<img src="${newDoctorImage}" alt="صورة الطبيب">`;
                    };
                    reader.readAsDataURL(file);
                }
            });
            // إضافة طبيب جديد
            function addNewDoctor() {
                const name = document.getElementById('doctorName').value;
                const specialty = document.getElementById('doctorSpecialty').value;
                const experience = document.getElementById('doctorExperience').value;
                const location = document.getElementById('doctorLocation').value;
                const description = document.getElementById('doctorDescription').value;
                const idImage = document.getElementById('doctorIdImage').files[0];
                if (!name || !specialty || !experience || !location || !description || !idImage) {
                    // عرض رسالة منبثقة منسقة فقط ولا تغلق نافذة الإضافة
                    var addErrorModal = document.getElementById('addErrorModal');
                    addErrorModal.style.opacity = '1';
                    addErrorModal.style.visibility = 'visible';
                    document.body.style.overflow = 'hidden';
                    // زر موافق يغلق فقط الرسالة المنبثقة
                    var closeAddErrorModalBtn = document.getElementById('closeAddErrorModal');
                    closeAddErrorModalBtn.onclick = function() {
                        addErrorModal.style.opacity = '0';
                        addErrorModal.style.visibility = 'hidden';
                        document.body.style.overflow = 'auto';
                    };
                    return;
                }
                // إغلاق نافذة الإضافة وفتح نافذة النجاح
                document.getElementById('addDoctorModal').classList.remove('active');
                document.getElementById('addSuccessModal').style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
            // إغلاق نافذة النجاح
            const closeAddSuccessModal = document.getElementById('closeAddSuccessModal');
            if (closeAddSuccessModal) {
                closeAddSuccessModal.addEventListener('click', function() {
                    document.getElementById('addSuccessModal').style.display = 'none';
                    document.body.style.overflow = 'auto';
                });
            }
            // عرض الأطباء
            function renderDoctors(doctorsList) {
                doctorsContainer.innerHTML = '';
                for (var i = 0; i < doctorsList.length; i++) {
                var doctor = doctorsList[i];
                var card = document.createElement('div');
                card.className = 'doctor-card';
                var html = '';
                html += '<div class="doctor-image">';
                html += '<img src="' + doctor.image + '" alt="' + doctor.name + '">';
                html += '</div>';
                html += '<div class="doctor-info">';
                html += '<h3 class="doctor-name">' + doctor.name + '</h3>';
                html += '<p class="doctor-specialty">' + doctor.specialty + '</p>';
                html += '<div class="doctor-details">';
                html += '<div><i class="fas fa-briefcase"></i> ' + doctor.experience + '</div>';
                html += '<div><i class="fas fa-map-marker-alt"></i> ' + doctor.location + '</div>';
                html += '</div>';
                html += '<div class="card-actions">';
                html += '<button class="book-btn" data-id="' + doctor.id + '"><i class="fas fa-calendar-check"></i> احجز الآن</button>';
                html += '<button class="details-btn" data-id="' + doctor.id + '"><i class="fas fa-info-circle"></i> التفاصيل</button>';
                html += '</div>';
                html += '</div>';
                card.innerHTML = html;
                doctorsContainer.appendChild(card);
                }
                // إضافة أحداث لزر احجز الآن
                document.querySelectorAll('.book-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const doctorId = parseInt(this.getAttribute('data-id'));
                        currentDoctor = doctors.find(d => d.id === doctorId);
                        openBookingModal(currentDoctor);
                    });
                });
                // إضافة أحداث لزر التفاصيل
                document.querySelectorAll('.details-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const doctorId = parseInt(this.getAttribute('data-id'));
                        const doctor = doctors.find(d => d.id === doctorId);
                        showDoctorDetailsModal(doctor);
                    });
                });
            }
            // فتح فورم الحجز
            function openBookingModal(doctor) {
                doctorModalImage.src = doctor.image;
                doctorModalImage.alt = doctor.name;
                doctorModalName.textContent = doctor.name;
                doctorModalSpecialty.textContent = doctor.specialty;
                // تعيين تاريخ اليوم كحد أدنى
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('appointmentDate').min = today;
                // مسح حقول النموذج
                document.getElementById('patientName').value = '';
                document.getElementById('patientEmail').value = '';
                document.getElementById('patientPhone').value = '';
                document.getElementById('appointmentDate').value = '';
                document.getElementById('appointmentTime').value = '';
                document.getElementById('appointmentReason').value = '';
                bookingModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            // إغلاق فورم الحجز
            function closeBookingModal() {
                bookingModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            // تصفية الأطباء حسب البحث والتخصص
            function filterDoctors() {
                const searchTerm = searchInput.value.toLowerCase();
                const specialty = specialtyFilter.value;
                const filtered = doctors.filter(doctor => {
                    const matchesSearch = doctor.name.toLowerCase().includes(searchTerm) || 
                                         doctor.specialty.toLowerCase().includes(searchTerm) ||
                                         doctor.description.toLowerCase().includes(searchTerm);
                    const matchesSpecialty = specialty === '' || doctor.specialty === specialty;
                    return matchesSearch && matchesSpecialty;
                });
                renderDoctors(filtered);
            }
            // أحداث البحث والتصفية
            searchInput.addEventListener('input', filterDoctors);
            specialtyFilter.addEventListener('change', filterDoctors);
            // أحداث الفورم
            closeModal.addEventListener('click', closeBookingModal);
            backToDoctors.addEventListener('click', closeBookingModal);
            confirmBooking.addEventListener('click', function() {
                const patientName = document.getElementById('patientName').value;
                const appointmentDate = document.getElementById('appointmentDate').value;
                const appointmentTime = document.getElementById('appointmentTime').value;
                if (!patientName || !appointmentDate || !appointmentTime) {
                    // عرض نافذة الخطأ فقط ولا تغلق نافذة الحجز
                    setTimeout(() => {
                        const bookingErrorModal = document.getElementById('bookingErrorModal');
                        bookingErrorModal.style.opacity = '1';
                        bookingErrorModal.style.visibility = 'visible';
                        document.body.style.overflow = 'hidden';
                    }, 100);
                    return;
                }
                const formattedDate = new Date(appointmentDate).toLocaleDateString('ar-SA');
                // رسالة تأكيد الحجز في نافذة خاصة
                closeBookingModal();
                setTimeout(() => {
                    const bookingSuccessModal = document.getElementById('bookingSuccessModal');
                    const bookingSuccessText = document.getElementById('bookingSuccessText');
                    bookingSuccessText.innerHTML = `الطبيب: ${currentDoctor.name}<br>التاريخ: ${formattedDate}<br>الوقت: ${appointmentTime}<br><br>سيصلك تأكيد بالبريد الإلكتروني والرسائل النصية`;
                    bookingSuccessModal.style.opacity = '1';
                    bookingSuccessModal.style.visibility = 'visible';
                    document.body.style.overflow = 'hidden';
                }, 300);
            });
            // إغلاق نافذة نجاح الحجز
            document.getElementById('closeBookingSuccessModal').addEventListener('click', function() {
                const bookingSuccessModal = document.getElementById('bookingSuccessModal');
                bookingSuccessModal.style.opacity = '0';
                bookingSuccessModal.style.visibility = 'hidden';
                document.body.style.overflow = 'auto';
            });
            // إغلاق نافذة خطأ الحجز فقط
            document.getElementById('closeBookingErrorModal').addEventListener('click', function() {
                const bookingErrorModal = document.getElementById('bookingErrorModal');
                bookingErrorModal.style.opacity = '0';
                bookingErrorModal.style.visibility = 'hidden';
                document.body.style.overflow = 'auto';
            });
            // أحداث إضافة طبيب
            const addDoctorBtn = document.getElementById('addDoctorBtn');
            if (addDoctorBtn) {
                addDoctorBtn.addEventListener('click', openAddDoctorModal);
            }
             document.getElementById('closeAddDoctorModal').addEventListener('click', closeAddDoctorModal);
            document.getElementById('cancelAddDoctor').addEventListener('click', closeAddDoctorModal);
            document.getElementById('addDoctorConfirm').addEventListener('click', addNewDoctor);
            // أحداث رسالة تسجيل الدخول
            goToLoginBtn.addEventListener('click', function() {
                window.location.href = 'login.html';
            });
            cancelLoginBtn.addEventListener('click', hideLoginRequired);
            // إظهار الأطباء عند التحميل
            renderDoctors(doctors);
            // مودال تفاصيل الطبيب
            if (!document.getElementById('doctorDetailsModal')) {
                const modal = document.createElement('div');
                modal.className = 'booking-modal';
                modal.id = 'doctorDetailsModal';
                modal.innerHTML = `
                    <div class="booking-form">
                        <div class="modal-header">
                            <h3>تفاصيل الطبيب</h3>
                            <button class="close-modal" id="closeDoctorDetailsModal">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body" id="doctorDetailsBody"></div>
                    </div>
                `;
                document.body.appendChild(modal);
            }
            function showDoctorDetailsModal(doctor) {
                const modal = document.getElementById('doctorDetailsModal');
                const body = document.getElementById('doctorDetailsBody');
                body.innerHTML = `
                    <div class="doctor-summary">
                        <div class="summary-image">
                            <img src="${doctor.image}" alt="${doctor.name}">
                        </div>
                        <div class="summary-info">
                            <h4>${doctor.name}</h4>
                            <p>${doctor.specialty}</p>
                        </div>
                    </div>
                    <div class="doctor-details">
                        <div><i class="fas fa-briefcase"></i> ${doctor.experience}</div>
                        <div><i class="fas fa-map-marker-alt"></i> ${doctor.location}</div>
                        <div><i class="fas fa-info-circle"></i> ${doctor.description}</div>
                    </div>
                `;
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            document.body.addEventListener('click', function(e) {
                if (e.target.id === 'closeDoctorDetailsModal' || e.target.closest && e.target.closest('#closeDoctorDetailsModal')) {
                    document.getElementById('doctorDetailsModal').classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
        });
    </script>

    <script src="dropdown.js"></script>
    <!-- <script src="script.js"></script> -->
</body>
</html>
